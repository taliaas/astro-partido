---
import SettingsUser from "../components/settings/Settings.vue"
import RootLayout from "../layouts/RootLayout.astro";
import RoleService from "../services/RoleService";
import UserService from "../services/UserService";

async function getAllUsers() {
    const service = new UserService()
    try {
        return service.getAllUser()
    } catch (e) {
        console.error(e)
    }
}
async function getAllRoles() {
    const service = new RoleService()
    try {
        return service.getRoles()
    } catch (e) {
        console.error(e)
    }
}

const roles = await getAllRoles()
const users = await getAllUsers()
---

<RootLayout>
    <SettingsUser roles={roles} users={users} client:load/>
</RootLayout>
